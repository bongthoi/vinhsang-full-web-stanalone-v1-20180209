<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="admin/fragments/layout :: head"></head>
<body class="hold-transition skin-red sidebar-mini">
    <header th:replace="admin/fragments/layout :: header"></header>
  	 <aside th:replace="admin/fragments/layout :: sidebar" class="main-sidebar"></aside>
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->    
     <section class="content-header">
      <h1>
       Users<small th:text="${h1}"> Add Item</small>
      </h1>
      <ol class="breadcrumb">
        <li><a th:href='@{~/admin}'><i class="fa fa-dashboard"></i> Home</a></li>
        <li><a th:href='@{~/admin/users}'> users</a></li>
        <li class="active" th:text="${h1}"> Add</li>
      </ol>
    </section>
    
    <!-- Main content -->
    <section class="content">
    	<div class="row">
     	
    		<form method="post" id="frm_users_edit"  novalidate="novalidate" th:action="@{~/admin/user/save}" th:object="${user}">
    			<div class="col-md-9">
    					<div class="box box-primary" >     
    						<div class="box-header with-border">
    								 		  <!-- /* Handle the flash message */-->
									    <th:block th:if="${message != null}">
									        <!-- /* The message code is returned from the @Controller */ -->
									        <div th:replace="admin/fragments/alert :: alert (type=${#strings.toLowerCase(message.type)}, message=#{${message.message}(${#authentication.name})})">&nbsp;</div>
									    </th:block>
									      <!-- /* end Handle the flash message */-->
    						</div>    
				            <div class="box-body">
				               		  	
										<div class="form-group">
											<label >UserName</label>
											 <input class="form-control"   type="text" th:field="*{username}" th:readonly="${!#strings.isEmpty(user.username)}" th:errorclass="field-error">
											 <label th:if="${#fields.hasErrors('username')}" th:errors="*{username}"  class="error"></label>
										</div>
										<div class="form-group">
											<label >Name</label>
											 <input class="form-control"   type="text" th:field="*{name}" th:errorclass="field-error" >
											 <label th:if="${#fields.hasErrors('name')}" th:errors="*{name}"  class="error"></label>
										</div>
										<div class="form-group">
											<label >Password</label>
											 <input class="form-control"   type="text" th:field="*{password}" th:errorclass="field-error">
											 <label th:if="${#fields.hasErrors('password')}" th:errors="*{password}"  class="error"></label>
										</div>
										<div class="form-group">
											<label >Role</label>
											 	<select id="role"  th:field="*{role.id}" >
												    <option th:each="role:${roles}" th:value="${role.id}" th:text="${role.name}"></option>
												</select> 
										</div>
										<div class="form-group">
											<label >Status:</label>
											<label class="radio-inline"><input type="radio"  th:field="*{enabled}"  th:value="true" th:checked="${user.enabled}"><span class='label label-success'>Active</span></label>
											<label class="radio-inline"><input type="radio"  th:field="*{enabled}"  th:value="false" th:checked="${user.enabled}"><span class='label label-danger'>Disabled</span></label> 	 
										<!-- <input type="radio" name="myRadios" th:field="*{features}"  th:text="${feature.name}" th:value="${feature.id}" th:checked="${feature.id == 1}" /> -->
										</div>
										
							</div>
							 <div class="box-footer">
								 	<button type="submit" class="btn btn-primary">Save</button>
								 </div>
							 
				       </div>
    			</div>
    			
    		</form>
    	</div>
    	
	</section>
    <!-- /.content -->
  </div>

   			
  <!-- /.content-wrapper -->
  
<script src="js/users/main.js"></script>
  	 

    <footer th:replace="admin/fragments/layout :: footer"></footer>
</body>
</html>